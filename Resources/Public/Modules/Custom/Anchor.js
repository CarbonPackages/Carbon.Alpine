import{a as g,b as x,c as _,d as b,f as y,g as E}from"../chunk-PYOJNNWU.js";function A(n){n.magic("anchor",t=>{if(!t._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return t._x_anchor}),n.interceptClone((t,i)=>{t&&t._x_anchor&&!i._x_anchor&&(i._x_anchor=t._x_anchor)}),n.directive("anchor",n.skipDuringClone((t,{expression:i,modifiers:u},{cleanup:a,evaluate:s})=>{let{placement:h,offsetValue:e,unstyled:o,arrowOptions:r}=w(t,u);t._x_anchor=n.reactive({x:0,y:0});let l=[b(),_({padding:5}),x(e)];if(r&&l.push(y(r)),i=="mouse"){let p=f=>{let O=P(f);v({reference:O,el:t,placement:h,middleware:l,unstyled:o,arrowOptions:r})};document.addEventListener("mousemove",p),a(()=>{document.removeEventListener("mousemove",p)});return}let c=s(i);if(!c)throw"Alpine: no element provided to x-anchor...";let d=()=>{v({reference:c,el:t,placement:h,middleware:l,unstyled:o,arrowOptions:r})},m=g(c,t,()=>d());a(()=>m())},(t,{expression:i,modifiers:u,value:a},{cleanup:s,evaluate:h})=>{let{unstyled:e}=w(t,u);t._x_anchor&&(e||W(t,t._x_anchor.x,t._x_anchor.y))}))}function W(n,t,i){Object.assign(n.style,{left:t+"px",top:i+"px",position:"absolute"})}function w(n,t){let u=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(e=>t.includes(e)),a=0,s=null;if(t.includes("arrow")){let e=t.findIndex(d=>d==="arrow"),o=t[e+1]!==void 0?`.${t[e+1]}`:null,r=t[e+2]!==void 0?Number(t[e+2]):0,l=o?n.querySelector(o):null,c=l?.offsetWidth||0;a=Math.sqrt(2*c**2)/2,s={element:l,padding:r,length:c}}if(t.includes("offset")){let e=t.findIndex(o=>o==="offset");a=t[e+1]!==void 0?Number(t[e+1]):a}let h=t.includes("no-style");return{placement:u,offsetValue:a,unstyled:h,arrowOptions:s}}function v({reference:n,el:t,placement:i,middleware:u,unstyled:a,arrowOptions:s,callback:h=e=>{}}){let e;E(n,t,{placement:i,middleware:u}).then(({x:o,y:r,middlewareData:l,placement:c})=>{if(a||W(t,o,r),l.arrow&&s){let{x:d,y:m}=l.arrow,p=c.split("-")[0],f={top:"bottom",right:"left",bottom:"top",left:"right"}[p];Object.assign(s.element.style,{left:d!=null?`${d}px`:"",top:m!=null?`${m}px`:"",right:"",bottom:"",[f]:`${-s.length/2}px`,transform:"rotate(45deg)",position:"absolute"})}JSON.stringify({x:o,y:r})!==e&&t._x_anchor&&(t._x_anchor.x=o,t._x_anchor.y=r),e=JSON.stringify({x:o,y:r}),h({x:o,y:r,middlewareData:l,placement:c})})}function P({clientX:n,clientY:t}){return{getBoundingClientRect(){return{width:0,height:0,x:n,y:t,left:n,right:n,top:t,bottom:t}}}}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(A)});
