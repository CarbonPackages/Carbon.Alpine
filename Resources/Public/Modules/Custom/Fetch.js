var w=window.location.pathname;function c(f){f.data("fetch",(n,l,s,u)=>({noMarkup:!1,target:null,noContentFound(e){if(this.$dispatch("fetch-no-content",{url:n,element:this.$el,target:this.target}),e&&console.error(e),l){this.noMarkup=!0;return}this.$el.remove()},init(){let e=this.$el,i=this.$refs.target||e;if(this.target=i,!n||typeof n!="string"){this.noContentFound("No URL defined in x-data='fetch'");return}let d=n.split("||");Promise.all(d.map(o=>fetch(o).then(t=>{if(!t.ok||t.status>=300)throw new Error("Network response was not ok");return t.json()}))).then(o=>{let t={};o.forEach(p=>{p.forEach(a=>{a.url!=w&&(t[a.url]=a.markup)})});let r=Object.values(t);s&&(r=r.slice(0,s));let h=r.join("");if(!h){if(u)throw new Error("No Markup found");this.noContentFound();return}this.$dispatch("fetch-has-content",{url:n,element:e,target:i}),i.innerHTML=h}).catch(o=>{this.noContentFound(o)})}}))}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(c)});
