function l(c){c.data("fetch",(e,p,f,u,h="replace",d=!0)=>({noMarkup:!1,target:null,fetched:!1,noContentFound(n){if(this.$dispatch("fetch-no-content",{url:e,element:this.$el,target:this.target}),n&&console.error(n),p){this.noMarkup=!0;return}this.$el.remove()},init(){let n=this.$el,i=this.$refs.target||n;if(this.target=i,!e||typeof e!="string"){this.noContentFound("No URL defined in x-data='fetch'");return}let g=e.split("||");Promise.all(g.map(r=>fetch(r).then(t=>{if(!t.ok||t.status>=300)throw new Error("Network response was not ok");return t.json()}))).then(r=>{let t={};r.forEach(m=>{m.forEach(s=>{d&&s.url!=window.location.pathname&&(t[s.url]=s.markup)})});let o=Object.values(t);f&&(o=o.slice(0,f));let a=o.join("");if(!a){if(u)throw new Error("No Markup found");this.noContentFound(null);return}if(this.fetched=!0,this.$dispatch("fetch-has-content",{url:e,element:n,target:i}),h==="replace"){i.innerHTML=a;return}i.insertAdjacentHTML(h,a)}).catch(r=>{this.fetched=!0,this.noContentFound(r)})}}))}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(l)});
