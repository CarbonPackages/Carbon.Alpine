var g=window.location.pathname;function f(l){l.data("fetch",(e,u,h,d,c="replace")=>({noMarkup:!1,target:null,fetched:!1,noContentFound(n){if(this.$dispatch("fetch-no-content",{url:e,element:this.$el,target:this.target}),n&&console.error(n),u){this.noMarkup=!0;return}this.$el.remove()},init(){let n=this.$el,i=this.$refs.target||n;if(this.target=i,!e||typeof e!="string"){this.noContentFound("No URL defined in x-data='fetch'");return}let p=e.split("||");Promise.all(p.map(r=>fetch(r).then(t=>{if(!t.ok||t.status>=300)throw new Error("Network response was not ok");return t.json()}))).then(r=>{let t={};r.forEach(w=>{w.forEach(s=>{s.url!=g&&(t[s.url]=s.markup)})});let o=Object.values(t);h&&(o=o.slice(0,h));let a=o.join("");if(!a){if(d)throw new Error("No Markup found");this.noContentFound();return}if(this.fetched=!0,this.$dispatch("fetch-has-content",{url:e,element:n,target:i}),c==="replace"){i.innerHTML=a;return}i.insertAdjacentHTML(c,a)}).catch(r=>{this.fetched=!0,this.noContentFound(r)})}}))}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(f)});
