import{a as v,b as C,c as S,d as k,e as O,f as j,g as q}from"../chunk-UJLXA43G.js";import"../chunk-O2XFH626.js";var p="x-tooltip",U="data-tooltip-fetch",V="data-tooltip-html",P=[U,V,"data-tooltip","aria-label","title"],w="stay-on-click",$="focus",R="offset",X="id",K="fixed",W=5,a,d,B="top",I,h=0;function Y(n){n.directive("tooltip",(t,{expression:s,modifiers:e},{evaluate:m})=>{let b=e.includes(K)?"fixed":"absolute",c=e.includes(X)?e[e.indexOf(X)+1]:b=="fixed"?"tooltip-fixed":"tooltip",{floatingEl:o,arrowElement:x,tooltipContent:u}=_(c);if(!o){console.warn(`Tooltip with the id '${c}' element not found`);return}if(!u){console.warn(`Target element for content of the tooltip with the id '${c}-content' element not found`);return}let z=e.includes(R)?m(e[e.indexOf(R)+1]):6,F=e.includes(w),E=e.includes($),y=!0,T=[C(z),k(),S({padding:W})];x&&T.push(j({element:x})),T.push(O());function M(){let l=P.find(i=>d.hasAttribute(i));if(!l){console.warn("No tooltip content found");return}if(a=d.getAttribute(l),!a||!u){y=!1,r();return}if(l===V){u.innerHTML=a;return}if(l!==U){u.textContent=a;return}let{url:f,text:g}=m(a);if(!f){y=!1,r();return}u.innerHTML=g||"",fetch(f).then(i=>i.text()).then(i=>{if(i){u.innerHTML=i;return}y=!1,r()})}function G(){q(d,o,{placement:B,middleware:T,strategy:b}).then(({x:l,y:f,placement:g,middlewareData:i})=>{if(Object.assign(o.style,{transform:`translate(${N(l)}px,${N(f)}px)`}),i.hide.referenceHidden&&r(),!i.arrow||!x)return;let{x:H,y:L}=i.arrow,J={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]];Object.assign(x.style,{left:H!=null?`${H}px`:"",top:L!=null?`${L}px`:"",right:"",bottom:"",[J]:"-4px"})})}function A(l,f){y&&(d=l,B=f||"top",o.style.opacity="1",clearTimeout(h),h||(o.style.transition="none",h=window.setTimeout(()=>{o.style.transition=null},10)),M(),I=v(d,o,G))}function r(){o.style.opacity!="0"&&(o.style.opacity="0",I(),h=window.setTimeout(()=>{a="",o.style.transition="none",h=0},500))}n.bind(t,{"@mouseenter"(){A(t,s)},"@mouseleave"(){r()},"@click"(){if(!F){r();return}this.$nextTick(()=>{M()})},"@focus"(){E&&A(t,s)},"@blur"(){E&&r()}})}),n.directive("tooltips",(t,{expression:s,modifiers:e})=>{let m=e.length?`.${e.join(".")}`:"";n.bind(t,{"x-init"(){this.$nextTick(()=>{[...t.querySelectorAll(`:where([${P.join("],[")}])`)].forEach(c=>{Z(c)||c.setAttribute(p+m,s)})})}})})}var Q=[p,`${p}.${w}`,`${p}.${$}`,`${p}.${w}.${$}`,`${p}.${$}.${w}`];function Z(n){return Q.some(t=>!!n.hasAttribute(t))}function _(n="tooltip"){let t=document.querySelector(`#${n}`),s=document.querySelector(`#${n}-arrow`),e=document.querySelector(`#${n}-content`);return t&&(t.style.maxWidth=`calc(100vw - ${W*2}px)`),{floatingEl:t,arrowElement:s,tooltipContent:e}}function N(n){let t=window.devicePixelRatio||1;return Math.round(n*t)/t}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(Y)});
