import{a as H,b as L,c as S,d as k,e as O,f as j,g as q}from"../chunk-5Z57UX4C.js";var f="x-tooltip",U="data-tooltip-fetch",P=[U,"data-tooltip","aria-label","title"],y="stay-on-click",b="focus",R="offset",X="id",J="fixed",V=5,p,d,B="top",I,h=0;function W(o){o.directive("tooltip",(t,{expression:s,modifiers:e},{evaluate:w})=>{let m=e.includes(J)?"fixed":"absolute",c=e.includes(X)?e[e.indexOf(X)+1]:m=="fixed"?"tooltip-fixed":"tooltip",{floatingEl:n,arrowElement:x,tooltipContent:a}=Z(c);if(!n){console.warn(`Tooltip with the id '${c}' element not found`);return}if(!a){console.warn(`Target element for content of the tooltip with the id '${c}-content' element not found`);return}let Y=e.includes(R)?w(e[e.indexOf(R)+1]):6,z=e.includes(y),E=e.includes(b),$=!0,T=[L(Y),k(),S({padding:V})];x&&T.push(j({element:x})),T.push(O());function M(){let r=P.find(i=>d.hasAttribute(i));if(!r){console.warn("No tooltip content found");return}if(p=d.getAttribute(r),!p||!a){$=!1,l();return}if(r!==U){a.textContent=p;return}let{url:u,text:g}=w(p);if(!u){$=!1,l();return}a.innerHTML=g||"",fetch(u).then(i=>i.text()).then(i=>{if(i){a.innerHTML=i;return}$=!1,l()})}function F(){q(d,n,{placement:B,middleware:T,strategy:m}).then(({x:r,y:u,placement:g,middlewareData:i})=>{if(Object.assign(n.style,{transform:`translate(${N(r)}px,${N(u)}px)`}),i.hide.referenceHidden&&l(),!i.arrow||!x)return;let{x:v,y:C}=i.arrow,G={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]];Object.assign(x.style,{left:v!=null?`${v}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",[G]:"-4px"})})}function A(r,u){$&&(d=r,B=u||"top",n.style.opacity="1",clearTimeout(h),h||(n.style.transition="none",h=window.setTimeout(()=>{n.style.transition=null},10)),M(),I=H(d,n,F))}function l(){n.style.opacity!="0"&&(n.style.opacity="0",I(),h=window.setTimeout(()=>{p="",n.style.transition="none",h=0},500))}o.bind(t,{"@mouseenter"(){A(t,s)},"@mouseleave"(){l()},"@click"(){if(!z){l();return}this.$nextTick(()=>{M()})},"@focus"(){E&&A(t,s)},"@blur"(){E&&l()}})}),o.directive("tooltips",(t,{expression:s,modifiers:e})=>{let w=e.length?`.${e.join(".")}`:"";o.bind(t,{"x-init"(){this.$nextTick(()=>{[...t.querySelectorAll(`:where([${P.join("],[")}])`)].forEach(c=>{Q(c)||c.setAttribute(f+w,s)})})}})})}var K=[f,`${f}.${y}`,`${f}.${b}`,`${f}.${y}.${b}`,`${f}.${b}.${y}`];function Q(o){return K.some(t=>!!o.hasAttribute(t))}function Z(o="tooltip"){let t=document.querySelector(`#${o}`),s=document.querySelector(`#${o}-arrow`),e=document.querySelector(`#${o}-content`);return t&&(t.style.maxWidth=`calc(100vw - ${V*2}px)`),{floatingEl:t,arrowElement:s,tooltipContent:e}}function N(o){let t=window.devicePixelRatio||1;return Math.round(o*t)/t}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(W)});
