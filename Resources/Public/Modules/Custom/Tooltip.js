import{a as H,b as L,c as S,d as k,e as O,f as j,g as q}from"../chunk-PYOJNNWU.js";var f="x-tooltip",U="data-tooltip-fetch",P=[U,"data-tooltip","aria-label","title"],w="stay-on-click",$="focus",R="offset",X="id",J="fixed",V=5,p,d,B="top",I,h=0;function W(n){n.directive("tooltip",(t,{expression:s,modifiers:e},{evaluate:m})=>{let b=e.includes(J)?"fixed":"absolute",c=e.includes(X)?e[e.indexOf(X)+1]:b=="fixed"?"tooltip-fixed":"tooltip",{floatingEl:o,arrowElement:x,tooltipContent:a}=Z(c);if(!o){console.warn(`Tooltip with the id '${c}' element not found`);return}if(!a){console.warn(`Target element for content of the tooltip with the id '${c}-content' element not found`);return}let Y=e.includes(R)?m(e[e.indexOf(R)+1]):6,z=e.includes(w),E=e.includes($),y=!0,T=[L(Y),k(),S({padding:V})];x&&T.push(j({element:x})),T.push(O());function M(){let r=P.find(i=>d.hasAttribute(i));if(!r){console.warn("No tooltip content found");return}if(p=d.getAttribute(r),!p||!a){y=!1,l();return}if(r!==U){a.textContent=p;return}let{url:u,text:g}=m(p);if(!u){y=!1,l();return}a.innerHTML=g||"",fetch(u).then(i=>i.text()).then(i=>{if(i){a.innerHTML=i;return}y=!1,l()})}function F(){q(d,o,{placement:B,middleware:T,strategy:b}).then(({x:r,y:u,placement:g,middlewareData:i})=>{if(Object.assign(o.style,{transform:`translate(${N(r)}px,${N(u)}px)`}),i.hide.referenceHidden&&l(),!i.arrow||!x)return;let{x:v,y:C}=i.arrow,G={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]];Object.assign(x.style,{left:v!=null?`${v}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",[G]:"-4px"})})}function A(r,u){y&&(d=r,B=u||"top",o.style.opacity="1",clearTimeout(h),h||(o.style.transition="none",h=window.setTimeout(()=>{o.style.transition=null},10)),M(),I=H(d,o,F))}function l(){o.style.opacity!="0"&&(o.style.opacity="0",I(),h=window.setTimeout(()=>{p="",o.style.transition="none",h=0},500))}n.bind(t,{"@mouseenter"(){A(t,s)},"@mouseleave"(){l()},"@click"(){if(!z){l();return}this.$nextTick(()=>{M()})},"@focus"(){E&&A(t,s)},"@blur"(){E&&l()}})}),n.directive("tooltips",(t,{expression:s,modifiers:e})=>{let m=e.length?`.${e.join(".")}`:"";n.bind(t,{"x-init"(){this.$nextTick(()=>{[...t.querySelectorAll(`:where([${P.join("],[")}])`)].forEach(c=>{Q(c)||c.setAttribute(f+m,s)})})}})})}var K=[f,`${f}.${w}`,`${f}.${$}`,`${f}.${w}.${$}`,`${f}.${$}.${w}`];function Q(n){return K.some(t=>!!n.hasAttribute(t))}function Z(n="tooltip"){let t=document.querySelector(`#${n}`),s=document.querySelector(`#${n}-arrow`),e=document.querySelector(`#${n}-content`);return t&&(t.style.maxWidth=`calc(100vw - ${V*2}px)`),{floatingEl:t,arrowElement:s,tooltipContent:e}}function N(n){let t=window.devicePixelRatio||1;return Math.round(n*t)/t}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(W)});
