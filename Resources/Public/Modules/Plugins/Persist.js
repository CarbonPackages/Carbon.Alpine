function f(t){let i=()=>{let n,a;try{a=localStorage}catch(r){console.error(r),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let e=new Map;a={getItem:e.get.bind(e),setItem:e.set.bind(e)}}return t.interceptor((r,e,l,s,w)=>{let o=n||`_x_${s}`,u=g(o,a)?p(o,a):r;return l(u),t.effect(()=>{let c=e();d(o,c,a),l(c)}),u},r=>{r.as=e=>(n=e,r),r.using=e=>(a=e,r)})};Object.defineProperty(t,"$persist",{get:()=>i()}),t.magic("persist",i),t.persist=(n,{get:a,set:r},e=localStorage)=>{let l=g(n,e)?p(n,e):a();r(l),t.effect(()=>{let s=a();d(n,s,e),r(s)})}}function g(t,i){return i.getItem(t)!==null}function p(t,i){return JSON.parse(i.getItem(t,i))}function d(t,i,n){n.setItem(t,JSON.stringify(i))}var m=f;window.addEventListener("alpine:init",()=>{window.Alpine.plugin(m)});
