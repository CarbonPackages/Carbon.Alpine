var gt=["top","right","bottom","left"];var W=Math.min,B=Math.max,Z=Math.round,tt=Math.floor,F=t=>({x:t,y:t}),$t={left:"right",right:"left",bottom:"top",top:"bottom"},zt={start:"end",end:"start"};function rt(t,e,o){return B(t,W(e,o))}function $(t,e){return typeof t=="function"?t(e):t}function H(t){return t.split("-")[0]}function Y(t){return t.split("-")[1]}function ut(t){return t==="x"?"y":"x"}function ct(t){return t==="y"?"height":"width"}function et(t){return["top","bottom"].includes(H(t))?"y":"x"}function lt(t){return ut(et(t))}function ht(t,e,o){o===void 0&&(o=!1);let n=Y(t),s=lt(t),r=ct(s),i=s==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(i=Q(i)),[i,Q(i)]}function pt(t){let e=Q(t);return[st(t),e,st(e)]}function st(t){return t.replace(/start|end/g,e=>zt[e])}function _t(t,e,o){let n=["left","right"],s=["right","left"],r=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return o?e?s:n:e?n:s;case"left":case"right":return e?r:i;default:return[]}}function xt(t,e,o,n){let s=Y(t),r=_t(H(t),o==="start",n);return s&&(r=r.map(i=>i+"-"+s),e&&(r=r.concat(r.map(st)))),r}function Q(t){return t.replace(/left|right|bottom|top/g,e=>$t[e])}function It(t){return{top:0,right:0,bottom:0,left:0,...t}}function mt(t){return typeof t!="number"?It(t):{top:t,right:t,bottom:t,left:t}}function z(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wt(t,e,o){let{reference:n,floating:s}=t,r=et(e),i=lt(e),c=ct(i),l=H(e),f=r==="y",m=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,g=n[c]/2-s[c]/2,a;switch(l){case"top":a={x:m,y:n.y-s.height};break;case"bottom":a={x:m,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:u};break;case"left":a={x:n.x-s.width,y:u};break;default:a={x:n.x,y:n.y}}switch(Y(e)){case"start":a[i]-=g*(o&&f?-1:1);break;case"end":a[i]+=g*(o&&f?-1:1);break}return a}var bt=async(t,e,o)=>{let{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:i}=o,c=r.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e)),f=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:u}=wt(f,n,l),g=n,a={},d=0;for(let h=0;h<c.length;h++){let{name:x,fn:p}=c[h],{x:w,y,data:b,reset:v}=await p({x:m,y:u,initialPlacement:n,placement:g,strategy:s,middlewareData:a,rects:f,platform:i,elements:{reference:t,floating:e}});m=w??m,u=y??u,a={...a,[x]:{...a[x],...b}},v&&d<=50&&(d++,typeof v=="object"&&(v.placement&&(g=v.placement),v.rects&&(f=v.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):v.rects),{x:m,y:u}=wt(f,g,l)),h=-1)}return{x:m,y:u,placement:g,strategy:s,middlewareData:a}};async function nt(t,e){var o;e===void 0&&(e={});let{x:n,y:s,platform:r,rects:i,elements:c,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:u="floating",altBoundary:g=!1,padding:a=0}=$(e,t),d=mt(a),x=c[g?u==="floating"?"reference":"floating":u],p=z(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(x)))==null||o?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:l})),w=u==="floating"?{...i.floating,x:n,y:s}:i.reference,y=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),b=await(r.isElement==null?void 0:r.isElement(y))?await(r.getScale==null?void 0:r.getScale(y))||{x:1,y:1}:{x:1,y:1},v=z(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:y,strategy:l}):w);return{top:(p.top-v.top+d.top)/b.y,bottom:(v.bottom-p.bottom+d.bottom)/b.y,left:(p.left-v.left+d.left)/b.x,right:(v.right-p.right+d.right)/b.x}}var At=t=>({name:"arrow",options:t,async fn(e){let{x:o,y:n,placement:s,rects:r,platform:i,elements:c,middlewareData:l}=e,{element:f,padding:m=0}=$(t,e)||{};if(f==null)return{};let u=mt(m),g={x:o,y:n},a=lt(s),d=ct(a),h=await i.getDimensions(f),x=a==="y",p=x?"top":"left",w=x?"bottom":"right",y=x?"clientHeight":"clientWidth",b=r.reference[d]+r.reference[a]-g[a]-r.floating[d],v=g[a]-r.reference[a],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f)),T=E?E[y]:0;(!T||!await(i.isElement==null?void 0:i.isElement(E)))&&(T=c.floating[y]||r.floating[d]);let V=b/2-v/2,K=T/2-h[d]/2-1,U=W(u[p],K),G=W(u[w],K),C=U,J=T-h[d]-G,O=T/2-h[d]/2+V,P=rt(C,O,J),L=!l.arrow&&Y(s)!=null&&O!==P&&r.reference[d]/2-(O<C?U:G)-h[d]/2<0,M=L?O<C?O-C:O-J:0;return{[a]:g[a]+M,data:{[a]:P,centerOffset:O-P-M,...L&&{alignmentOffset:M}},reset:L}}});var Ot=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;let{placement:s,middlewareData:r,rects:i,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:m=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...x}=$(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};let p=H(s),w=H(c)===c,y=await(l.isRTL==null?void 0:l.isRTL(f.floating)),b=g||(w||!h?[Q(c)]:pt(c));!g&&d!=="none"&&b.push(...xt(c,h,d,y));let v=[c,...b],E=await nt(e,x),T=[],V=((n=r.flip)==null?void 0:n.overflows)||[];if(m&&T.push(E[p]),u){let C=ht(s,i,y);T.push(E[C[0]],E[C[1]])}if(V=[...V,{placement:s,overflows:T}],!T.every(C=>C<=0)){var K,U;let C=(((K=r.flip)==null?void 0:K.index)||0)+1,J=v[C];if(J)return{data:{index:C,overflows:V},reset:{placement:J}};let O=(U=V.filter(P=>P.overflows[0]<=0).sort((P,L)=>P.overflows[1]-L.overflows[1])[0])==null?void 0:U.placement;if(!O)switch(a){case"bestFit":{var G;let P=(G=V.map(L=>[L.placement,L.overflows.filter(M=>M>0).reduce((M,Vt)=>M+Vt,0)]).sort((L,M)=>L[1]-M[1])[0])==null?void 0:G[0];P&&(O=P);break}case"initialPlacement":O=c;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function yt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vt(t){return gt.some(e=>t[e]>=0)}var Rt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:o}=e,{strategy:n="referenceHidden",...s}=$(t,e);switch(n){case"referenceHidden":{let r=await nt(e,{...s,elementContext:"reference"}),i=yt(r,o.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:vt(i)}}}case"escaped":{let r=await nt(e,{...s,altBoundary:!0}),i=yt(r,o.floating);return{data:{escapedOffsets:i,escaped:vt(i)}}}default:return{}}}}};async function Yt(t,e){let{placement:o,platform:n,elements:s}=t,r=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=H(o),c=Y(o),l=et(o)==="y",f=["left","top"].includes(i)?-1:1,m=r&&l?-1:1,u=$(e,t),{mainAxis:g,crossAxis:a,alignmentAxis:d}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof d=="number"&&(a=c==="end"?d*-1:d),l?{x:a*m,y:g*f}:{x:g*f,y:a*m}}var jt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;let{x:s,y:r,placement:i,middlewareData:c}=e,l=await Yt(e,t);return i===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:r+l.y,data:{...l,placement:i}}}}},Ct=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:o,y:n,placement:s}=e,{mainAxis:r=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:p,y:w}=x;return{x:p,y:w}}},...l}=$(t,e),f={x:o,y:n},m=await nt(e,l),u=et(H(s)),g=ut(u),a=f[g],d=f[u];if(r){let x=g==="y"?"top":"left",p=g==="y"?"bottom":"right",w=a+m[x],y=a-m[p];a=rt(w,a,y)}if(i){let x=u==="y"?"top":"left",p=u==="y"?"bottom":"right",w=d+m[x],y=d-m[p];d=rt(w,d,y)}let h=c.fn({...e,[g]:a,[u]:d});return{...h,data:{x:h.x-o,y:h.y-n}}}}};function N(t){return St(t)?(t.nodeName||"").toLowerCase():"#document"}function A(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function D(t){var e;return(e=(St(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function St(t){return t instanceof Node||t instanceof A(t).Node}function k(t){return t instanceof Element||t instanceof A(t).Element}function S(t){return t instanceof HTMLElement||t instanceof A(t).HTMLElement}function Et(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof A(t).ShadowRoot}function X(t){let{overflow:e,overflowX:o,overflowY:n,display:s}=R(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(s)}function Tt(t){return["table","td","th"].includes(N(t))}function ft(t){let e=at(),o=R(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Pt(t){let e=_(t);for(;S(e)&&!ot(e);){if(ft(e))return e;e=_(e)}return null}function at(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ot(t){return["html","body","#document"].includes(N(t))}function R(t){return A(t).getComputedStyle(t)}function it(t){return k(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _(t){if(N(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Et(t)&&t.host||D(t);return Et(e)?e.host:e}function Lt(t){let e=_(t);return ot(e)?t.ownerDocument?t.ownerDocument.body:t.body:S(e)&&X(e)?e:Lt(e)}function j(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);let s=Lt(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=A(s);return r?e.concat(i,i.visualViewport||[],X(s)?s:[],i.frameElement&&o?j(i.frameElement):[]):e.concat(s,j(s,[],o))}function Mt(t){let e=R(t),o=parseFloat(e.width)||0,n=parseFloat(e.height)||0,s=S(t),r=s?t.offsetWidth:o,i=s?t.offsetHeight:n,c=Z(o)!==r||Z(n)!==i;return c&&(o=r,n=i),{width:o,height:n,$:c}}function dt(t){return k(t)?t:t.contextElement}function q(t){let e=dt(t);if(!S(e))return F(1);let o=e.getBoundingClientRect(),{width:n,height:s,$:r}=Mt(e),i=(r?Z(o.width):o.width)/n,c=(r?Z(o.height):o.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}var Xt=F(0);function Bt(t){let e=A(t);return!at()||!e.visualViewport?Xt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qt(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==A(t)?!1:e}function I(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);let s=t.getBoundingClientRect(),r=dt(t),i=F(1);e&&(n?k(n)&&(i=q(n)):i=q(t));let c=qt(r,o,n)?Bt(r):F(0),l=(s.left+c.x)/i.x,f=(s.top+c.y)/i.y,m=s.width/i.x,u=s.height/i.y;if(r){let g=A(r),a=n&&k(n)?A(n):n,d=g,h=d.frameElement;for(;h&&n&&a!==d;){let x=q(h),p=h.getBoundingClientRect(),w=R(h),y=p.left+(h.clientLeft+parseFloat(w.paddingLeft))*x.x,b=p.top+(h.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,f*=x.y,m*=x.x,u*=x.y,l+=y,f+=b,d=A(h),h=d.frameElement}}return z({width:m,height:u,x:l,y:f})}var Kt=[":popover-open",":modal"];function Ft(t){return Kt.some(e=>{try{return t.matches(e)}catch{return!1}})}function Ut(t){let{elements:e,rect:o,offsetParent:n,strategy:s}=t,r=s==="fixed",i=D(n),c=e?Ft(e.floating):!1;if(n===i||c&&r)return o;let l={scrollLeft:0,scrollTop:0},f=F(1),m=F(0),u=S(n);if((u||!u&&!r)&&((N(n)!=="body"||X(i))&&(l=it(n)),S(n))){let g=I(n);f=q(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+m.x,y:o.y*f.y-l.scrollTop*f.y+m.y}}function Gt(t){return Array.from(t.getClientRects())}function Nt(t){return I(D(t)).left+it(t).scrollLeft}function Jt(t){let e=D(t),o=it(t),n=t.ownerDocument.body,s=B(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=B(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),i=-o.scrollLeft+Nt(t),c=-o.scrollTop;return R(n).direction==="rtl"&&(i+=B(e.clientWidth,n.clientWidth)-s),{width:s,height:r,x:i,y:c}}function Qt(t,e){let o=A(t),n=D(t),s=o.visualViewport,r=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){r=s.width,i=s.height;let f=at();(!f||f&&e==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:r,height:i,x:c,y:l}}function Zt(t,e){let o=I(t,!0,e==="fixed"),n=o.top+t.clientTop,s=o.left+t.clientLeft,r=S(t)?q(t):F(1),i=t.clientWidth*r.x,c=t.clientHeight*r.y,l=s*r.x,f=n*r.y;return{width:i,height:c,x:l,y:f}}function Dt(t,e,o){let n;if(e==="viewport")n=Qt(t,o);else if(e==="document")n=Jt(D(t));else if(k(e))n=Zt(e,o);else{let s=Bt(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return z(n)}function Wt(t,e){let o=_(t);return o===e||!k(o)||ot(o)?!1:R(o).position==="fixed"||Wt(o,e)}function te(t,e){let o=e.get(t);if(o)return o;let n=j(t,[],!1).filter(c=>k(c)&&N(c)!=="body"),s=null,r=R(t).position==="fixed",i=r?_(t):t;for(;k(i)&&!ot(i);){let c=R(i),l=ft(i);!l&&c.position==="fixed"&&(s=null),(r?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||X(i)&&!l&&Wt(t,i))?n=n.filter(m=>m!==i):s=c,i=_(i)}return e.set(t,n),n}function ee(t){let{element:e,boundary:o,rootBoundary:n,strategy:s}=t,i=[...o==="clippingAncestors"?te(e,this._c):[].concat(o),n],c=i[0],l=i.reduce((f,m)=>{let u=Dt(e,m,s);return f.top=B(u.top,f.top),f.right=W(u.right,f.right),f.bottom=W(u.bottom,f.bottom),f.left=B(u.left,f.left),f},Dt(e,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ne(t){let{width:e,height:o}=Mt(t);return{width:e,height:o}}function oe(t,e,o){let n=S(e),s=D(e),r=o==="fixed",i=I(t,!0,r,e),c={scrollLeft:0,scrollTop:0},l=F(0);if(n||!n&&!r)if((N(e)!=="body"||X(s))&&(c=it(e)),n){let u=I(e,!0,r,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else s&&(l.x=Nt(s));let f=i.left+c.scrollLeft-l.x,m=i.top+c.scrollTop-l.y;return{x:f,y:m,width:i.width,height:i.height}}function kt(t,e){return!S(t)||R(t).position==="fixed"?null:e?e(t):t.offsetParent}function Ht(t,e){let o=A(t);if(!S(t)||Ft(t))return o;let n=kt(t,e);for(;n&&Tt(n)&&R(n).position==="static";)n=kt(n,e);return n&&(N(n)==="html"||N(n)==="body"&&R(n).position==="static"&&!ft(n))?o:n||Pt(t)||o}var ie=async function(t){let e=this.getOffsetParent||Ht,o=this.getDimensions;return{reference:oe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function se(t){return R(t).direction==="rtl"}var re={convertOffsetParentRelativeRectToViewportRelativeRect:Ut,getDocumentElement:D,getClippingRect:ee,getOffsetParent:Ht,getElementRects:ie,getClientRects:Gt,getDimensions:ne,getScale:q,isElement:k,isRTL:se};function ce(t,e){let o=null,n,s=D(t);function r(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),r();let{left:f,top:m,width:u,height:g}=t.getBoundingClientRect();if(c||e(),!u||!g)return;let a=tt(m),d=tt(s.clientWidth-(f+u)),h=tt(s.clientHeight-(m+g)),x=tt(f),w={rootMargin:-a+"px "+-d+"px "+-h+"px "+-x+"px",threshold:B(0,W(1,l))||1},y=!0;function b(v){let E=v[0].intersectionRatio;if(E!==l){if(!y)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},100)}y=!1}try{o=new IntersectionObserver(b,{...w,root:s.ownerDocument})}catch{o=new IntersectionObserver(b,w)}o.observe(t)}return i(!0),r}function be(t,e,o,n){n===void 0&&(n={});let{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=dt(t),m=s||r?[...f?j(f):[],...j(e)]:[];m.forEach(p=>{s&&p.addEventListener("scroll",o,{passive:!0}),r&&p.addEventListener("resize",o)});let u=f&&c?ce(f,o):null,g=-1,a=null;i&&(a=new ResizeObserver(p=>{let[w]=p;w&&w.target===f&&a&&(a.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=a)==null||y.observe(e)})),o()}),f&&!l&&a.observe(f),a.observe(e));let d,h=l?I(t):null;l&&x();function x(){let p=I(t);h&&(p.x!==h.x||p.y!==h.y||p.width!==h.width||p.height!==h.height)&&o(),h=p,d=requestAnimationFrame(x)}return o(),()=>{var p;m.forEach(w=>{s&&w.removeEventListener("scroll",o),r&&w.removeEventListener("resize",o)}),u?.(),(p=a)==null||p.disconnect(),a=null,l&&cancelAnimationFrame(d)}}var Ae=Ct,Oe=Ot;var Re=Rt,Ce=At;var Ee=(t,e,o)=>{let n=new Map,s={platform:re,...o},r={...s.platform,_c:n};return bt(t,e,{...s,platform:r})};export{jt as a,be as b,Ae as c,Oe as d,Re as e,Ce as f,Ee as g};
