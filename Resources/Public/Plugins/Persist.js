(()=>{function m(t){let e=()=>{let a,l=localStorage;return t.interceptor((r,i,n,o,S)=>{let s=a||`_x_${o}`,u=c(s,l)?d(s,l):r;return n(u),t.effect(()=>{let f=i();g(s,f,l),n(f)}),u},r=>{r.as=i=>(a=i,r),r.using=i=>(l=i,r)})};Object.defineProperty(t,"$persist",{get:()=>e()}),t.magic("persist",e),t.persist=(a,{get:l,set:r},i=localStorage)=>{let n=c(a,i)?d(a,i):l();r(n),t.effect(()=>{let o=l();g(a,o,i),r(o)})}}function c(t,e){return e.getItem(t)!==null}function d(t,e){return JSON.parse(e.getItem(t,e))}function g(t,e,a){a.setItem(t,JSON.stringify(e))}var p=m;window.addEventListener("alpine:init",()=>{window.Alpine.plugin(p)});})();
