(()=>{function m(t){let s=()=>{let r,a;try{a=localStorage}catch(i){console.error(i),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let e=new Map;a={getItem:e.get.bind(e),setItem:e.set.bind(e)}}return t.interceptor((i,e,l,n,v)=>{let o=r||`_x_${n}`,u=g(o,a)?p(o,a):i;return l(u),t.effect(()=>{let c=e();d(o,c,a),l(c)}),u},i=>{i.as=e=>(r=e,i),i.using=e=>(a=e,i)})};Object.defineProperty(t,"$persist",{get:()=>s()}),t.magic("persist",s),t.persist=(r,{get:a,set:i},e=localStorage)=>{let l=g(r,e)?p(r,e):a();i(l),t.effect(()=>{let n=a();d(r,n,e),i(n)})}}function g(t,s){return s.getItem(t)!==null}function p(t,s){let r=s.getItem(t);if(r!==void 0)return JSON.parse(r)}function d(t,s,r){r.setItem(t,JSON.stringify(s))}var f=m;window.addEventListener("alpine:init",()=>{window.Alpine.plugin(f)});})();
