(()=>{function _(s){s.directive("menu",(t,e)=>{e.value?e.value==="items"?o(t,s):e.value==="item"?h(t,s):e.value==="button"&&u(t,s):d(t,s)}).before("bind"),s.magic("menuItem",t=>{let e=s.$data(t);return{get isActive(){return e.__activeEl==e.__itemEl},get isDisabled(){return e.__itemEl.__isDisabled.value}}})}function d(s,t){t.bind(s,{"x-id"(){return["alpine-menu-button","alpine-menu-items"]},"x-modelable":"__isOpen","x-data"(){return{__itemEls:[],__activeEl:null,__isOpen:!1,__open(e){this.__isOpen=!0,(i=>requestAnimationFrame(()=>requestAnimationFrame(i)))(()=>{this.$refs.__items.focus({preventScroll:!0}),e&&e(t,this.$refs.__items,i=>i.__activate())})},__close(e=!0){this.__isOpen=!1,e&&this.$nextTick(()=>this.$refs.__button.focus({preventScroll:!0}))},__contains(e,a){return!!t.findClosest(a,i=>i.isSameNode(e))}}},"@focusin.window"(){this.$data.__contains(this.$el,document.activeElement)||this.$data.__close(!1)}})}function u(s,t){t.bind(s,{"x-ref":"__button","aria-haspopup":"true",":aria-labelledby"(){return this.$id("alpine-menu-label")},":id"(){return this.$id("alpine-menu-button")},":aria-expanded"(){return this.$data.__isOpen},":aria-controls"(){return this.$data.__isOpen&&this.$id("alpine-menu-items")},"x-init"(){this.$el.tagName.toLowerCase()==="button"&&!this.$el.hasAttribute("type")&&(this.$el.type="button")},"@click"(){this.$data.__open()},"@keydown.down.stop.prevent"(){this.$data.__open()},"@keydown.up.stop.prevent"(){this.$data.__open(r.last)},"@keydown.space.stop.prevent"(){this.$data.__open()},"@keydown.enter.stop.prevent"(){this.$data.__open()}})}function o(s,t){t.bind(s,{"x-ref":"__items","aria-orientation":"vertical",role:"menu",":id"(){return this.$id("alpine-menu-items")},":aria-labelledby"(){return this.$id("alpine-menu-button")},":aria-activedescendant"(){return this.$data.__activeEl&&this.$data.__activeEl.id},"x-show"(){return this.$data.__isOpen},tabindex:"0","@click.outside"(){this.$data.__close()},"@keydown"(e){r.search(t,this.$refs.__items,e.key,a=>a.__activate())},"@keydown.down.stop.prevent"(){this.$data.__activeEl?r.next(t,this.$data.__activeEl,e=>e.__activate()):r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.up.stop.prevent"(){this.$data.__activeEl?r.previous(t,this.$data.__activeEl,e=>e.__activate()):r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.home.stop.prevent"(){r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.end.stop.prevent"(){r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.page-up.stop.prevent"(){r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.page-down.stop.prevent"(){r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.escape.stop.prevent"(){this.$data.__close()},"@keydown.space.stop.prevent"(){this.$data.__activeEl&&this.$data.__activeEl.click()},"@keydown.enter.stop.prevent"(){this.$data.__activeEl&&this.$data.__activeEl.click()},"@keyup.space.prevent"(){}})}function h(s,t){t.bind(s,()=>({"x-data"(){return{__itemEl:this.$el,init(){let e=t.raw(this.$data.__itemEls),a=!1;for(let i=0;i<e.length;i++)if(e[i].compareDocumentPosition(this.$el)&Node.DOCUMENT_POSITION_PRECEDING){e.splice(i,0,this.$el),a=!0;break}a||e.push(this.$el),this.$el.__activate=()=>{this.$data.__activeEl=this.$el,this.$el.scrollIntoView({block:"nearest"})},this.$el.__deactivate=()=>{this.$data.__activeEl=null},this.$el.__isDisabled=t.reactive({value:!1}),queueMicrotask(()=>{this.$el.__isDisabled.value=t.bound(this.$el,"disabled",!1)})},destroy(){let e=this.$data.__itemEls;e.splice(e.indexOf(this.$el),1)}}},"x-id"(){return["alpine-menu-item"]},":id"(){return this.$id("alpine-menu-item")},":tabindex"(){return this.__itemEl.__isDisabled.value?!1:"-1"},role:"menuitem","@mousemove"(){this.__itemEl.__isDisabled.value||this.$menuItem.isActive||this.__itemEl.__activate()},"@mouseleave"(){this.__itemEl.__isDisabled.value||!this.$menuItem.isActive||this.__itemEl.__deactivate()}}))}var r={first(s,t,e=i=>i,a=()=>{}){let i=s.$data(t).__itemEls[0];return i?i.tagName.toLowerCase()==="template"?this.next(s,i,e):i.__isDisabled.value?this.next(s,i,e):e(i):a()},last(s,t,e=i=>i,a=()=>{}){let i=s.$data(t).__itemEls.slice(-1)[0];return i?i.__isDisabled.value?this.previous(s,i,e):e(i):a()},next(s,t,e=i=>i,a=()=>{}){if(!t)return a();let i=s.$data(t).__itemEls,n=i[i.indexOf(t)+1];return n?n.__isDisabled.value||n.tagName.toLowerCase()==="template"?this.next(s,n,e,a):e(n):a()},previous(s,t,e=i=>i,a=()=>{}){if(!t)return a();let i=s.$data(t).__itemEls,n=i[i.indexOf(t)-1];return n?n.__isDisabled.value||n.tagName.toLowerCase()==="template"?this.previous(s,n,e,a):e(n):a()},searchQuery:"",debouncedClearSearch:void 0,clearSearch(s){this.debouncedClearSearch||(this.debouncedClearSearch=s.debounce(function(){this.searchQuery=""},350)),this.debouncedClearSearch()},search(s,t,e,a){if(e.length>1)return;this.searchQuery+=e;let n=s.raw(s.$data(t).__itemEls).find(l=>l.textContent.trim().toLowerCase().startsWith(this.searchQuery));n&&!n.__isDisabled.value&&a(n),this.clearSearch(s)}};window.addEventListener("alpine:init",()=>{window.Alpine.plugin(_)});})();
