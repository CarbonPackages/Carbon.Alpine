(()=>{function _(i){i.directive("menu",(t,e)=>{e.value?e.value==="items"?o(t,i):e.value==="item"?h(t,i):e.value==="button"&&u(t,i):d(t,i)}),i.magic("menuItem",t=>{let e=i.$data(t);return{get isActive(){return e.__activeEl==e.__itemEl},get isDisabled(){return t.__isDisabled.value}}})}function d(i,t){t.bind(i,{"x-id"(){return["alpine-menu-button","alpine-menu-items"]},"x-modelable":"__isOpen","x-data"(){return{__itemEls:[],__activeEl:null,__isOpen:!1,__open(){this.__isOpen=!0,(s=>requestAnimationFrame(()=>requestAnimationFrame(s)))(()=>this.$refs.__items.focus({preventScroll:!0}))},__close(e=!0){this.__isOpen=!1,e&&this.$nextTick(()=>this.$refs.__button.focus({preventScroll:!0}))},__contains(e,s){return!!t.findClosest(s,a=>a.isSameNode(e))}}},"@focusin.window"(){this.$data.__contains(this.$el,document.activeElement)||this.$data.__close(!1)}})}function u(i,t){t.bind(i,{"x-ref":"__button","aria-haspopup":"true",":aria-labelledby"(){return this.$id("alpine-menu-label")},":id"(){return this.$id("alpine-menu-button")},":aria-expanded"(){return this.$data.__isOpen},":aria-controls"(){return this.$data.__isOpen&&this.$id("alpine-menu-items")},"x-init"(){this.$el.tagName.toLowerCase()==="button"&&!this.$el.hasAttribute("type")&&(this.$el.type="button")},"@click"(){this.$data.__open()},"@keydown.down.stop.prevent"(){this.$data.__open()},"@keydown.up.stop.prevent"(){this.$data.__open(r.Alpine,last)},"@keydown.space.stop.prevent"(){this.$data.__open()},"@keydown.enter.stop.prevent"(){this.$data.__open()}})}function o(i,t){t.bind(i,{"x-ref":"__items","aria-orientation":"vertical",role:"menu",":id"(){return this.$id("alpine-menu-items")},":aria-labelledby"(){return this.$id("alpine-menu-button")},":aria-activedescendant"(){return this.$data.__activeEl&&this.$data.__activeEl.id},"x-show"(){return this.$data.__isOpen},tabindex:"0","@click.outside"(){this.$data.__close()},"@keydown"(e){r.search(t,this.$refs.__items,e.key,s=>s.__activate())},"@keydown.down.stop.prevent"(){this.$data.__activeEl?r.next(t,this.$data.__activeEl,e=>e.__activate()):r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.up.stop.prevent"(){this.$data.__activeEl?r.previous(t,this.$data.__activeEl,e=>e.__activate()):r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.home.stop.prevent"(){r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.end.stop.prevent"(){r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.page-up.stop.prevent"(){r.first(t,this.$refs.__items,e=>e.__activate())},"@keydown.page-down.stop.prevent"(){r.last(t,this.$refs.__items,e=>e.__activate())},"@keydown.escape.stop.prevent"(){this.$data.__close()},"@keydown.space.stop.prevent"(){this.$data.__activeEl&&this.$data.__activeEl.click()},"@keydown.enter.stop.prevent"(){this.$data.__activeEl&&this.$data.__activeEl.click()},"@keyup.space.prevent"(){}})}function h(i,t){t.bind(i,()=>({"x-data"(){return{__itemEl:this.$el,init(){let e=t.raw(this.$data.__itemEls),s=!1;for(let a=0;a<e.length;a++)if(e[a].compareDocumentPosition(this.$el)&Node.DOCUMENT_POSITION_PRECEDING){e.splice(a,0,this.$el),s=!0;break}s||e.push(this.$el),this.$el.__activate=()=>{this.$data.__activeEl=this.$el,this.$el.scrollIntoView({block:"nearest"})},this.$el.__deactivate=()=>{this.$data.__activeEl=null},this.$el.__isDisabled=t.reactive({value:!1}),queueMicrotask(()=>{this.$el.__isDisabled.value=t.bound(this.$el,"disabled",!1)})},destroy(){let e=this.$data.__itemEls;e.splice(e.indexOf(this.$el),1)}}},"x-id"(){return["alpine-menu-item"]},":id"(){return this.$id("alpine-menu-item")},":tabindex"(){return this.$el.__isDisabled.value?!1:"-1"},role:"menuitem","@mousemove"(){this.$el.__isDisabled.value||this.$menuItem.isActive||this.$el.__activate()},"@mouseleave"(){this.$el.__isDisabled.value||!this.$menuItem.isActive||this.$el.__deactivate()}}))}var r={first(i,t,e=a=>a,s=()=>{}){let a=i.$data(t).__itemEls[0];return a?a.tagName.toLowerCase()==="template"?this.next(i,a,e):a.__isDisabled.value?this.next(i,a,e):e(a):s()},last(i,t,e=a=>a,s=()=>{}){let a=i.$data(t).__itemEls.slice(-1)[0];return a?a.__isDisabled.value?this.previous(i,a,e):e(a):s()},next(i,t,e=a=>a,s=()=>{}){if(!t)return s();let a=i.$data(t).__itemEls,n=a[a.indexOf(t)+1];return n?n.__isDisabled.value||n.tagName.toLowerCase()==="template"?this.next(i,n,e,s):e(n):s()},previous(i,t,e=a=>a,s=()=>{}){if(!t)return s();let a=i.$data(t).__itemEls,n=a[a.indexOf(t)-1];return n?n.__isDisabled.value||n.tagName.toLowerCase()==="template"?this.previous(i,n,e,s):e(n):s()},searchQuery:"",debouncedClearSearch:void 0,clearSearch(i){this.debouncedClearSearch||(this.debouncedClearSearch=i.debounce(function(){this.searchQuery=""},350)),this.debouncedClearSearch()},search(i,t,e,s){if(e.length>1)return;this.searchQuery+=e;let n=i.raw(i.$data(t).__itemEls).find(l=>l.textContent.trim().toLowerCase().startsWith(this.searchQuery));n&&!n.__isDisabled.value&&s(n),this.clearSearch(i)}};window.addEventListener("alpine:init",()=>{window.Alpine.plugin(_)});})();
