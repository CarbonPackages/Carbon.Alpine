(()=>{function _(e){e.directive("popover",(i,t,{evaluate:s})=>{t.value?t.value==="overlay"?h(i,e):t.value==="button"?l(i,e):t.value==="panel"?u(i,e):t.value==="group"&&d(i,e):r(i,e,s)}),e.magic("popover",i=>{let t=e.$data(i);return{get isOpen(){return t.__isOpenState},open(){t.__open()},close(){t.__close()}}})}function r(e,i,t){let s=t(e.getAttribute("x-data")||"{}");i.bind(e,{"x-id"(){return["alpine-popover-button","alpine-popover-panel"]},"x-modelable":"__isOpenState","x-data"(){return{...s,init(){this.$data.__groupEl&&this.$data.__groupEl.addEventListener("__close-others",({detail:a})=>{a.el.isSameNode(this.$el)||this.__close(!1)})},__buttonEl:void 0,__panelEl:void 0,__isStatic:!1,get __isOpen(){return this.__isStatic?!0:this.__isOpenState},__isOpenState:!1,__open(){this.__isOpenState=!0,this.$dispatch("__close-others",{el:this.$el})},__toggle(){this.__isOpenState?this.__close():this.__open()},__close(a){this.__isStatic||(this.__isOpenState=!1,a!==!1&&(a=a||this.$data.__buttonEl,!document.activeElement.isSameNode(a)&&setTimeout(()=>a.focus())))},__contains(a,o){return!!i.findClosest(o,n=>n.isSameNode(a))}}},"@keydown.escape.stop.prevent"(){this.__close()},"@focusin.window"(){if(this.$data.__groupEl){this.$data.__contains(this.$data.__groupEl,document.activeElement)||this.$data.__close(!1);return}this.$data.__contains(this.$el,document.activeElement)||this.$data.__close(!1)}})}function l(e,i){i.bind(e,{"x-ref":"button",":id"(){return this.$id("alpine-popover-button")},":aria-expanded"(){return this.$data.__isOpen},":aria-controls"(){return this.$data.__isOpen&&this.$id("alpine-popover-panel")},"x-init"(){this.$el.tagName.toLowerCase()==="button"&&!this.$el.hasAttribute("type")&&(this.$el.type="button"),this.$data.__buttonEl=this.$el},"@click"(){this.$data.__toggle()},"@keydown.tab"(t){if(!t.shiftKey&&this.$data.__isOpen){let s=this.$focus.within(this.$data.__panelEl).getFirst();s&&(t.preventDefault(),t.stopPropagation(),this.$focus.focus(s))}},"@keyup.tab"(t){if(this.$data.__isOpen){let s=this.$focus.previouslyFocused();if(!s)return;!this.$data.__buttonEl.contains(s)&&!this.$data.__panelEl.contains(s)&&s&&this.$el.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING&&(t.preventDefault(),t.stopPropagation(),this.$focus.within(this.$data.__panelEl).last())}},"@keydown.space.stop.prevent"(){this.$data.__toggle()},"@keydown.enter.stop.prevent"(){this.$data.__toggle()},"@keyup.space.stop.prevent"(){}})}function u(e,i){i.bind(e,{"x-init"(){this.$data.__isStatic=i.bound(this.$el,"static",!1),this.$data.__panelEl=this.$el},"x-effect"(){this.$data.__isOpen&&i.bound(e,"focus")&&this.$focus.first()},"x-ref":"panel",":id"(){return this.$id("alpine-popover-panel")},"x-show"(){return this.$data.__isOpen},"@mousedown.window"(t){this.$data.__isOpen&&(this.$data.__contains(this.$data.__buttonEl,t.target)||this.$data.__contains(this.$el,t.target)||this.$focus.focusable(t.target)||this.$data.__close())},"@keydown.tab"(t){if(t.shiftKey&&this.$focus.isFirst(t.target))t.preventDefault(),t.stopPropagation(),i.bound(e,"focus")?this.$data.__close():this.$data.__buttonEl.focus();else if(!t.shiftKey&&this.$focus.isLast(t.target)){t.preventDefault(),t.stopPropagation();let s=this.$focus.within(document).all(),a=s.indexOf(this.$data.__buttonEl);s.splice(a+1).filter(n=>!this.$el.contains(n))[0].focus(),i.bound(e,"focus")&&this.$data.__close(!1)}}})}function d(e,i){i.bind(e,{"x-ref":"container","x-data"(){return{__groupEl:this.$el}}})}function h(e,i){i.bind(e,{"x-show"(){return this.$data.__isOpen}})}window.addEventListener("alpine:init",()=>{window.Alpine.plugin(_)});})();
